@using Telimena.WebApp.UiStrings
@model Telimena.WebApp.Models.Shared.ProgramsListViewModel
<li class="header">APPLICATIONS</li>
@foreach (var devGropedPrograms in Model.Programs)
{
    <li class="treeview" id="@(Strings.Id.AppsList)_@devGropedPrograms.First().DeveloperTeamName">
        <a href="#" 
           data-toggle="tooltip" data-placement="right" title="Developer Team account: @devGropedPrograms.First().DeveloperTeamName" data-delay='{"show":"500"}'>
            <i class="fa fa-laptop"></i> <span>@devGropedPrograms.First().DeveloperTeamName</span>
            <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
            </span>
        </a>
        <ul class="treeview-menu">
            @foreach (var app in devGropedPrograms)
            {
                <li class="treeview">
                    <a href="@Url.Action("Index", "ProgramManagement", new {telemetryKey = app.TelemetryKey})"  id="@(app.ProgramName)_menu"
                       data-toggle="tooltip" data-placement="right" title="@(app.ProgramName)" data-delay='{"show":"500"}'>
                        <i class="fa fa-codepen"></i> <span class="program-name">@(app.ProgramNameTrimmed)</span>
                        <span class="pull-right-container">
                            <i class="fa fa-angle-left pull-right"></i>
                        </span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="@Url.Action("Dashboard", "ProgramStatistics", new {telemetryKey = app.TelemetryKey})" id="@(app.ProgramName)_dashboardLink">
                                <i class="fa fa-dashboard"></i> <span>Dashboard</span>
                            </a>
                        </li>
                        <li>
                            <a href="@Url.Action("Index", "ProgramManagement", new {telemetryKey = app.TelemetryKey})" id="@(app.ProgramName)_manageLink">
                                <i class="fa fa-cog"></i> <span>Manage</span>
                            </a>
                        </li>
                        <li>
                            <a href="@Url.Action("Index", "ProgramStatistics", new {telemetryKey = app.TelemetryKey})" id="@(app.ProgramName)_statsLink">
                                <i class="fa fa-bar-chart"></i> <span>Events and views</span>
                            </a>
                        </li>
                        <li>
                            <a href="@Url.Action("Exceptions", "ProgramStatistics", new {telemetryKey = app.TelemetryKey})" id="@(app.ProgramName)_exceptionsLink">
                                <i class="fa fa-exclamation-triangle"></i> <span>Exceptions</span>
                            </a>
                        </li>
                        <li>
                            <a href="@Url.Action("Logs", "ProgramStatistics", new {telemetryKey = app.TelemetryKey})" id="@(app.ProgramName)_logsLink">
                                <i class="fa fa-file-text"></i> <span>Logs</span>
                            </a>
                        </li>
                        <li>
                            <a href="@Url.Action("PivotTable", "ProgramStatistics", new {telemetryKey = app.TelemetryKey})" id="@(app.ProgramName)_pivotTableLink">
                                <i class="fa fa-table"></i> <span>Pivot table reports</span>
                            </a>
                        </li>

                    </ul>
                </li>
            }
        </ul>
    </li>
}
